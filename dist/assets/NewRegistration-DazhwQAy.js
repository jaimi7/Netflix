import{k as P,r as p,l as k,w as $,c as l,d as q,a as s,m as N,h as c,p as w,g as o,t as i,q as n,o as d,u as S}from"./index-BZrLSbNB.js";import{u as V,_ as x,N as E,c as f,r as v,e as U,m as M,s as A}from"./index-DYOXd1UK.js";import"./header-C8wMh9KO.js";const D={class:"min-h-screen w-full bg-black md:items-center md:justify-center md:bg-transparent"},B={class:"grid-layout"},C={class:"max-w-sm w-72 mt-2 py-2 border border-gray-900 rounded-md sm:w-80 md:border-none md:py-0 md:mt-16"},L={class:"pb-6"},R={key:0,class:"error"},j={class:"pb-6"},H={key:0,class:"error"},T={class:"pb-6"},z={key:0,class:"error"},F={key:1},G={type:"submit",class:"w-full bg-red-600 text-white py-2 px-2 rounded-md hover:bg-red-700 transition duration-200 ease-in"},Q={__name:"NewRegistration",setup(I){const u=P(),y=S(),r=p({email:"",password:"",confirmPassword:""}),g=p(!1),b=p(""),h=k(()=>({email:{required:f.withMessage("Email is required",v),email:U},password:{required:f.withMessage("Password is required",v),minLength:M(8)},confirmPassword:{required:f.withMessage("Passwords do not match",v),sameAs:A(r.value.password)}})),a=V(h,r),_=async()=>{await a.value.$validate()&&u.registerUser(r.value.email,r.value.password)};return $(()=>{g.value=u.registerLoading,b.value=u.userData,b.value&&y.push("/")}),(m,e)=>(d(),l("div",D,[q(E),s("div",B,[s("div",C,[s("form",{class:"bg-black/75 w-full px-6 py-4 rounded-md",onSubmit:N(_,["prevent"])},[e[6]||(e[6]=s("div",{class:"grid-layout pb-4"},[s("img",{src:x,alt:"Netflix",class:"w-10 h-10"})],-1)),s("div",L,[e[3]||(e[3]=s("label",{for:"Email",class:"label"},"Email",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value.email=t),type:"email",placeholder:"Email",class:"input-style"},null,512),[[w,r.value.email]]),o(a).email.$error?(d(),l("p",R,i(o(a).email.$errors[0].$message),1)):n("",!0)]),s("div",j,[e[4]||(e[4]=s("label",{for:"password",class:"label"},"Password",-1)),c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.password=t),type:"password",placeholder:"Password",class:"input-style"},null,512),[[w,r.value.password]]),o(a).password.$error?(d(),l("p",H,i(o(a).password.$errors[0].$message),1)):n("",!0)]),s("div",T,[e[5]||(e[5]=s("label",{for:"confirmPassword",class:"label"},"ConfirmPassword",-1)),c(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.confirmPassword=t),type:"password",placeholder:"ConfirmPassword",class:"input-style"},null,512),[[w,r.value.confirmPassword]]),o(a).confirmPassword.$error?(d(),l("p",z,i(o(a).confirmPassword.$errors[0].$message),1)):n("",!0),m.error?(d(),l("p",F,i(m.error),1)):n("",!0)]),s("div",null,[s("button",G,i(g.value?"Signing Up...":"Sign Up"),1)])],32)])])]))}};export{Q as default};
